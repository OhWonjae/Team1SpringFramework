<?xml version="1.0" encoding="euc-kr" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mycompany.webapp.dao.UsersDao">

	<insert id="insert" parameterType="user">
		insert into users
		(user_id, user_name, user_password,
		user_phone, dog_size, enabled,
		authority)
		values
		(#{user_id,jdbcType=VARCHAR},#{user_name},#{user_password},#{user_phone},#{dog_size},1,'ROLE_USER')
	</insert>

<!-- 	<resultMap id="userResultMap" type="user">
		<result property="uid" column="user_id" />
		<result property="uname" column="user_name" />
		<result property="upassword" column="user_password" />
		<result property="uphone" column="user_phone" />
		<result property="dogsize" column="dog_size" />
		<result property="uenabled" column="enabled" />
		<result property="uauthority" column="authority" />
	</resultMap> -->


	<select id="selectByUid" parameterType="string" resultMap="userResultMap"> 
		select user_id, user_name, user_password, user_phone, dog_size, 
		enabled, authority 
		from users 
		where user_id=#{user_id} 
	</select>

	<select id="selectInfoByUser_id" parameterType="string">
		select 
		user_id, user_name, user_password,
		user_phone, dog_size, enabled,
		authority
		from users
		where
		user_id=#{user_id}
	</select>

	<select id="selectByUser_id" parameterType="string">
		select user_id, user_password
		from users
		where
		user_id=#{user_id, jdbcType=VARCHAR}
	</select>

	<select id="idCheck" resultType="int">
		select count(*)
		from users
		where
		user_id=#{user_id, jdbcType=VARCHAR}
	</select>

	<!-- <select id="selectNameAndEmailByUid" parameterType="user" resultMap="userResultMap"> 
		select user_id, user_name, user_email from users where user_id=#{uid} </select> 
		<select id="selectEmailByUid" parameterType="user" resultMap="userResultMap"> 
		select user_email from users where user_id=#{uid} </select> <select id="selectPasswordByUid" 
		parameterType="user" resultMap="userResultMap"> select user_password from 
		users where user_id=#{uid} </select> <update id="updatePassword" parameterType="string"> 
		update users set user_password=#{upassword}, where user_id=#{uid} </update> 
		<update id="updatePhone" parameterType="string"> update users set user_phone=#{uphone}, 
		where user_id=#{uid} </update> <delete id="deleteByUid" parameterType="int"> 
		delete from users where user_id=#{uid} </delete> -->


</mapper>